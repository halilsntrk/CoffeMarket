<app-dashboard class="container col-2"></app-dashboard>
<section class="">
  <div class="container-fluid d-flex justify-content-between">
    <div class="col-6">
      <form  id="productcreate" enctype="multipart/form-data">
        <div class="form-group">
          <label>Ürün Adı: </label>
          <input
            placeholder="Ürünün Adı"
            [(ngModel)]="product.Name"
            name="Name"
            id="name"
            required
            class="form-control form-control-sm"
          />
        </div>

        <div class="form-group">
          <label>Ürün Tipi: </label>
          <select
            title="select"
            [(ngModel)]="product.TypeID"
            name="TypeID"
            class="form-select form-select-sm col-12"
            asp-for="TypeID"
            id="typeselection"
          >
            @for (item of types; track $index) {
            <option value="{{ item.id }}">{{ item.typename }}</option>

            }
          </select>
        </div>

        <div class="form-group">
          <label>Ürünün Gramajı: </label>
          <div class="col-12 p-0 d-flex">
            <input
              value=""
              [(ngModel)]="product.Grammage"
              name="Grammage"
              id="grammage"
              type="number"
              placeholder="Ürün Gramajı"
              required
              class="form-control form-control-sm col-11"
            /><span
              class="badge text-white bg-success col-1 d-flex justify-content-center text-center align-items-center"
              >GR</span
            >
          </div>
        </div>

        <div class="form-group">
          <label>Fiyat: </label>
          <input
            value=""
            id="price"
            [(ngModel)]="product.Price"
            name="Price"
            placeholder="Fiyatı"
            required
            class="form-control form-control-sm"
          />
        </div>

        <div class="form-group">
          <label>Spot Açıklama: </label>
          <input
            placeholder="Spot Açıklama"
            [(ngModel)]="product.Spot"
            name="Spot"
            id="spot"
            required
            class="form-control form-control-sm"
          />
        </div>

        <div class="row mt-2">
          <div class="col-12">
            <label for="img" class="col-form-label">Ürün Resmi</label>
            <input
              type="file"
              [(ngModel)]="product.DetailImage"
              name="DetailImage"
              (change)="handleDetailImage($event.target)"
              id="img"
              class="form-control form-control-sm"
            />
            <span class="text-danger"></span>
          </div>
        </div>

        <div class="row mt-2">
          <div class="col-12">
            <label for="list-img" class="col-form-label"
              >Ürün Listeleme Resmi</label
            >
            <input
              type="file"
              id="list-img"
              [(ngModel)]="product.ListImage"
              (change)="handleListImage($event.target)"
              name="ListImage"
              class="form-control form-control-sm"
            />
            <span class="text-danger"></span>
          </div>
        </div>

        <button (click)="onSubmit()" class="btn btn-success my-3" type="submit">
          Ürünü Ekle
        </button>
        <div class="alert" id="messageBox"></div>
      </form>
    </div>

    <div *ngIf="selectedImage" class="col-4 ">
        <div class="d-flex border border-2  justify-content-center">
            <h6>Ürün Kartı Önizleme</h6>
        </div>
      <div class="card col-12 border border-5">
        <div class="card-body">
            <div class="d-flex justify-content-center">
            <img *ngIf="selectedImage" [src]="selectedImage" id="preview" class="mx-auto" alt="" style="height: 15rem; width: auto; overflow: hidden;">
        </div>
          <p class="card-text text-center">{{ product.Grammage + "GR" }}</p>

          <div class="align-items-center col-12 w-100">
            <p class="card-title text-center">{{ product.Name }}</p>
          </div>

          <p class="card-text text-center">{{ product.Price + "TL" }}</p>
          <div class="d-flex justify-content-between mt-5">
            <button class="col-5 btn btn-primary mx-2">Hemen Al</button>
            <button class="col-5 btn btn-secondary mx-2">Sepete Ekle</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
